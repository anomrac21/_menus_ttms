{{/*
  Combined Social Media Share Buttons
  Usage: {{ partial "socialmedia/social-share-all.html" . }}
  
  Optional parameters (pass as dict):
  - text: Text to share (defaults to page title)
  - url: URL to share (defaults to current page)
  - instagram_username: Your Instagram handle
  - tiktok_username: Your TikTok handle (e.g., "@yourhandle")
  - layout: "horizontal" or "vertical" (defaults to "horizontal")
*/}}

{{ $page := . }}
{{ if .Page }}
  {{ $page = .Page }}
{{ end }}

{{ $text := "" }}
{{ if isset . "text" }}
  {{ $text = .text }}
{{ else }}
  {{ $text = $page.Title }}
{{ end }}

{{ $url := "" }}
{{ if isset . "url" }}
  {{ $url = .url }}
{{ else }}
  {{ $url = $page.Permalink }}
{{ end }}

{{ $instagram_username := "" }}
{{ if isset . "instagram_username" }}
  {{ $instagram_username = .instagram_username }}
{{ end }}

{{ $tiktok_username := "" }}
{{ if isset . "tiktok_username" }}
  {{ $tiktok_username = .tiktok_username }}
{{ end }}

{{ $layout := "horizontal" }}
{{ if isset . "layout" }}
  {{ $layout = .layout }}
{{ end }}

<div class="social-share-container social-share-{{ $layout }}">
  <h3 class="social-share-heading">Share This</h3>
  
  <div class="social-share-buttons">
    {{ partial "socialmedia/whatsapp-share.html" (dict "text" $text "url" $url "Page" $page) }}
    
    {{ partial "socialmedia/facebook-share.html" (dict "url" $url "Page" $page) }}
    
    {{ partial "socialmedia/instagram-share.html" (dict "username" $instagram_username "Page" $page) }}
    
    {{ partial "socialmedia/tiktok-share.html" (dict "username" $tiktok_username "Page" $page) }}
  </div>
</div>

<style>
.social-share-container {
  padding: .4rem;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 12px;
  backdrop-filter: blur(10px);
}

.social-share-heading {
  font-size: small;
  font-weight: 600;
  color: var(--text-color, #333);
  text-align: center;
}

/* Horizontal Layout */
.social-share-horizontal .social-share-buttons {
    display: flex;
    flex-wrap: nowrap;
    gap: 0.4rem;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

/* Vertical Layout */
.social-share-vertical .social-share-buttons {
  display: flex;
  flex-direction: column;
  gap: .4rem;
  align-items: stretch;
}

.social-share-vertical .social-share-buttons .social-share-btn {
  width: 100%;
  justify-content: center;
}

/* Responsive adjustments */
@media (max-width: 768px) {

}

/* Icon-only variant */
.social-share-container.icons-only .share-text {
  display: none;
}

.social-share-container.icons-only .social-share-btn {
  padding: 0.75rem;
  width: 48px;
  height: 48px;
  justify-content: center;
}

.social-share-container.icons-only .social-icon {
  margin: 0;
}
</style>

